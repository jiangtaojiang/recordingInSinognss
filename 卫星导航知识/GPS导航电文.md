### 卫星导航电文

又称为数据码(或D码)，是由导航卫星播放给用户的描述导航卫星运动状态参数的电文，包括系统时间、星历、历书、卫星时钟的修正参数、导航卫星健康状况和电离层延时模型参数等内容。导航电文的参数给用户提供了时间信息，利用导航电文参数可以计算用户的位置坐标和速度。是用户用来定位和导航的数据基础。



##### 数据分块：

GPS系统中，对导航电文5帧划分成三个数据块：第1子帧为第一数据块，第2、3子帧为第二数据块，第4、5子帧为第三数据块。

1.  第一数据块

   ​      第一数据块包括第1子帧中的第3字至第10字，它又常称为时钟数据块。由一颗卫星播放的时钟数据块提供该卫星的时钟校正参数和健康状态等。包含如下内容：

   ​	星期数(WN)：表示从1980年1月6日协调时零点起算的GPS周期数；
   ​	卫星测距精度 (URA)：表示用户所处位置所得到的定位精度值估算值，该数据是由GPS地面监控部分和空间星座部分引起的测距误差大小的一个统计数；
   ​	卫星健康状况：表示导航电文内容正常是否。当共计6比特的卫星健康状态的最高位是0，则表示导航电文全部正常；
   ​	时钟校正参数：用于计算任意时刻t的钟校正数；
   ​	群波延时校正值()：电离层延迟改正参数，该值只适合于单频(L1或L2)接收机，而双频接收机则无需此项校正；
   ​	时钟数据期号(IODC)：用10比特表示的IODC是时钟数据块的“期刊号”，一个IODC值对应一套时钟校正参数。

2. 第二数据块

   ​	卫星信号的第2子帧和第3子帧数据块一起组成第二数据块，它提供该卫星自身的星历参数。该数据块是导航电文的核心部分，GPS接收机根据这些参数可以进行实时的导航定位计算

3. 第三数据块由第4子帧和第5子帧的数据块组成。每颗卫星播放的第三数据块主要提供所有（自身和其他）卫星的**历书**参数、电离层延时校正参数、GPS时间和UTC之间的关系以及卫星健康状况等数据信息。与之前两个数据块不同，第三数据块的内容并不是接收机在实现定位前所急需获得的。

         和星历一样，历书的原意也是一张给出在不同时刻卫星位置的很大的表格，然而因为历书的精度比星历低，所以它又称为概略星历。



##### 星历与历书的比较

两者都是用开普勒轨道参数来表示，都用于描述卫星在各个时刻的空间位置和运动速度。
星历有效期短，只有4小时；历书有效期长达半年。
星历参数多，历书参数少。
星历参数中有摄动校正量，而历书没有，因为历书有效期长，不适用。
星历参数精度高，历书参数精度低。
星历参数与历书参数是由地面站独立推算的，因此它们的参数值有可能不同。
一颗卫星只播发自己的星历，但是会播发所有卫星的历书。
根据星历计算得到的卫星位置和速度值相当准确，可以直接用于定位与定速；根据历书计算的结果准确度不高，一般只能用于卫星信号的搜索和捕获。

##### 分类

为了缩短卫星锁定时间，GPS接收机需利用历书、当地位置的时间来预报卫星运行状态。

历书与星历都是表示卫星运行的参数。历书包括全部卫星的大概位置，用于卫星预报；星历只是当前接收机观测到的卫星的精确位置，用于定位。

历书是从导航电文中提取的，每12.5分钟的导航电文才能得到一组完整的历书。

```
GPS 卫星发送的导航信息是每秒50位的连续的数据流，在此我们称之为导航电文，每颗卫星都同时向地面发送以下信息：

    系统时间和时钟校正值、自身精确的轨道数据（星历，ephemeris） 其他卫星的近似轨道信息（历书，almanac） 系统运行状况。
```

**卫星轨道信息或某一时刻轨道参数及其变率或某一时刻卫星位置及其变化率。**

分为预报星历（又叫广播星历）和后处理星历（精密星历）。

——GPS广播星历：包括某一参考历元的轨道及其摄动改正项参数。共有16个参数。用C/A码传送的星历叫C/A码星历，精度为数十米。

——后处理星历：用P码传送的星历叫P码星历，叫做精密P码星历，精度为5米。用于军事目的。大部分用户得不到。一些国家某些部门根据各自跟踪卫星的精密观测资料来计算出的星历。事后提供给用户。



##### 历书的存在是为了保证搜星快速，避免漫天搜星



GPS接收机接收到广播星历（Broadcast Ephemeris）与历书（Almanac）两种导航信息。广播星历包含基本轨道参数及摄动改正量，由其确定的卫星位置精度高，可用于定位计算。历书仅提供基本轨道参数，精度低，可用于接收机快速捕捉卫星和预报。

 

为了缩短卫星锁定时间，GPS接收机要利用历书、当地位置的时间来预报卫星运行状态。历书与星历都是表示卫星运行的参数。

历书包括全部卫星的大概位置，用于卫星预报；

星历只是当前接收机观测到的卫星的精确位置，用于定位。

